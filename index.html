<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Ping Hsu 的互動履歷</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div id="welcome">歡迎來到 Ping Hsu 的網站！</div>
  <div id="goodWords">今天是美好的一天，願你心情愉快！🌞</div>

  <div id="message"></div>

  <button class="btn btn-gradient" onclick="open104Home()">前往 104</button>
  <button class="btn btn-red" onclick="openPingHsu104()">前往 PingHsu's 104</button>
  <button class="btn btn-green" onclick="openLinkedIn()">前往 LinkedIn</button>
  <button class="btn btn-yellow" onclick="openLinkedInPingHsu()">前往 PingHsu's LinkedIn</button>
  <button class="btn btn-pink" onclick="openNotion()">前往 Notion</button>
  <button class="btn btn-purple" onclick="openPingbot()">前往 Pingbot</button>
  <button class="btn btn-gray" onclick="openPingLocalGame()">前往 Ping local網頁遊戲</button>
  <button class="btn btn-gray" onclick="openPingGitGame()">前往 Ping Git網頁遊戲</button>

  <div id="chatbot">
    <h3>🤖 與 PingBot 聊聊 (未授權)</h3>
    <div id="chatbox"></div>
    <input type="text" id="userInput" placeholder="輸入你的問題..." />
    <button onclick="sendMessage()">送出</button>
  </div>

  <script>
    // 顯示訊息的函式
    function showMessage(text) {
      document.getElementById('message').textContent = text;
    }

    function open104Home() {
      showMessage('Button clicked: 前往 104');
      window.open('https://www.104.com.tw', '_blank', 'noopener,noreferrer');
    }

    function openPingHsu104() {
      showMessage('Button clicked: 前往 PingHsu\'s 104');
      window.open('https://www.104.com.tw/jobbank/...', '_blank', 'noopener,noreferrer');
    }

    function openLinkedIn() {
      showMessage('Button clicked: 前往 LinkedIn');
      window.open('https://www.linkedin.com/', '_blank', 'noopener,noreferrer');
    }

    function openLinkedInPingHsu() {
      showMessage('Button clicked: 前往 PingHsu\'s LinkedIn');
      window.open('https://www.linkedin.com/in/ping-h-32b485104/', '_blank', 'noopener,noreferrer');
    }

    function openNotion() {
      showMessage('Button clicked: 前往 Notion');
      window.open('https://www.notion.com/zh-tw/personal', '_blank', 'noopener,noreferrer');
    }

    function openPingbot() {
      showMessage('Button clicked: 前往 PingBot');
      window.open('http://localhost/chatbot/pingbot.html', '_blank', 'noopener,noreferrer');
    }

    function openPingLocalGame() {
      showMessage('Button clicked: 前往 Ping game');
      window.open('http://localhost/keyboard_game/index.html', '_blank', 'noopener,noreferrer');
    }

    function openPingGitGame() {
      showMessage('Button clicked: 前往 Ping game');
      window.open('https://gsegria.github.io/XAMPP_SQL/keyboard_game/index.html', '_blank', 'noopener,noreferrer');
    }

    // 送出訊息的函式
    function sendMessage() {
      const inputElem = document.getElementById('userInput');
      const input = inputElem.value.trim();
      if (!input) return;

      const chatbox = document.getElementById('chatbox');
      chatbox.innerHTML += `<div class="user-msg">👤 ${input}</div>`;

      // 這裡是模擬送訊息到伺服器，實際應該替換為 AJAX 或其他傳送方法
      fetch('chatbot.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: `message=${encodeURIComponent(input)}`
      })
      .then(res => res.json())
      .then(data => {
        chatbox.innerHTML += `<div class="bot-msg">🤖 ${data.reply}</div>`;
        inputElem.value = ''; // 清空輸入框
        chatbox.scrollTop = chatbox.scrollHeight; // 自動滾動到底部
      })
      .catch(err => {
        chatbox.innerHTML += `<div class="bot-msg error">❌ 發生錯誤：${err}</div>`;
      });
    }

    // 監聽 Enter 鍵，按下時呼叫 sendMessage()
    document.addEventListener('DOMContentLoaded', () => {
      const inputElem = document.getElementById('userInput');
      inputElem.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
          event.preventDefault(); // 防止換行
          sendMessage();
        }
      });
    });
  </script>

</body>
</html>


