<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Ping Hsu çš„äº’å‹•å±¥æ­·</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div id="welcome">æ­¡è¿ä¾†åˆ° Ping Hsu çš„ç¶²ç«™ï¼</div>
  <div id="goodWords">ä»Šå¤©æ˜¯ç¾å¥½çš„ä¸€å¤©ï¼Œé¡˜ä½ å¿ƒæƒ…æ„‰å¿«ï¼ğŸŒ</div>

  <div id="message"></div>

  <button class="btn btn-gradient" onclick="open104Home()">å‰å¾€ 104</button>
  <button class="btn btn-red" onclick="openPingHsu104()">å‰å¾€ PingHsu's 104</button>
  <button class="btn btn-green" onclick="openLinkedIn()">å‰å¾€ LinkedIn</button>
  <button class="btn btn-yellow" onclick="openLinkedInPingHsu()">å‰å¾€ PingHsu's LinkedIn</button>
  <button class="btn btn-pink" onclick="openNotion()">å‰å¾€ Notion</button>
  <button class="btn btn-purple" onclick="openPingbot()">å‰å¾€ Pingbot</button>
  <button class="btn btn-gray" onclick="openPingLocalGame()">å‰å¾€ Ping localç¶²é éŠæˆ²</button>
  <button class="btn btn-gray" onclick="openPingGitGame()">å‰å¾€ Ping Gitç¶²é éŠæˆ²</button>

  <div id="chatbot">
    <h3>ğŸ¤– èˆ‡ PingBot èŠèŠ (æœªæˆæ¬Š)</h3>
    <div id="chatbox"></div>
    <input type="text" id="userInput" placeholder="è¼¸å…¥ä½ çš„å•é¡Œ..." />
    <button onclick="sendMessage()">é€å‡º</button>
  </div>

  <script>
    // é¡¯ç¤ºè¨Šæ¯çš„å‡½å¼
    function showMessage(text) {
      document.getElementById('message').textContent = text;
    }

    function open104Home() {
      showMessage('Button clicked: å‰å¾€ 104');
      window.open('https://www.104.com.tw', '_blank', 'noopener,noreferrer');
    }

    function openPingHsu104() {
      showMessage('Button clicked: å‰å¾€ PingHsu\'s 104');
      window.open('https://www.104.com.tw/jobbank/...', '_blank', 'noopener,noreferrer');
    }

    function openLinkedIn() {
      showMessage('Button clicked: å‰å¾€ LinkedIn');
      window.open('https://www.linkedin.com/', '_blank', 'noopener,noreferrer');
    }

    function openLinkedInPingHsu() {
      showMessage('Button clicked: å‰å¾€ PingHsu\'s LinkedIn');
      window.open('https://www.linkedin.com/in/ping-h-32b485104/', '_blank', 'noopener,noreferrer');
    }

    function openNotion() {
      showMessage('Button clicked: å‰å¾€ Notion');
      window.open('https://www.notion.com/zh-tw/personal', '_blank', 'noopener,noreferrer');
    }

    function openPingbot() {
      showMessage('Button clicked: å‰å¾€ PingBot');
      window.open('http://localhost/chatbot/pingbot.html', '_blank', 'noopener,noreferrer');
    }

    function openPingLocalGame() {
      showMessage('Button clicked: å‰å¾€ Ping game');
      window.open('http://localhost/keyboard_game/index.html', '_blank', 'noopener,noreferrer');
    }

    function openPingGitGame() {
      showMessage('Button clicked: å‰å¾€ Ping game');
      window.open('https://gsegria.github.io/XAMPP_SQL/keyboard_game/index.html', '_blank', 'noopener,noreferrer');
    }

    // é€å‡ºè¨Šæ¯çš„å‡½å¼
    function sendMessage() {
      const inputElem = document.getElementById('userInput');
      const input = inputElem.value.trim();
      if (!input) return;

      const chatbox = document.getElementById('chatbox');
      chatbox.innerHTML += `<div class="user-msg">ğŸ‘¤ ${input}</div>`;

      // é€™è£¡æ˜¯æ¨¡æ“¬é€è¨Šæ¯åˆ°ä¼ºæœå™¨ï¼Œå¯¦éš›æ‡‰è©²æ›¿æ›ç‚º AJAX æˆ–å…¶ä»–å‚³é€æ–¹æ³•
      fetch('chatbot.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: `message=${encodeURIComponent(input)}`
      })
      .then(res => res.json())
      .then(data => {
        chatbox.innerHTML += `<div class="bot-msg">ğŸ¤– ${data.reply}</div>`;
        inputElem.value = ''; // æ¸…ç©ºè¼¸å…¥æ¡†
        chatbox.scrollTop = chatbox.scrollHeight; // è‡ªå‹•æ»¾å‹•åˆ°åº•éƒ¨
      })
      .catch(err => {
        chatbox.innerHTML += `<div class="bot-msg error">âŒ ç™¼ç”ŸéŒ¯èª¤ï¼š${err}</div>`;
      });
    }

    // ç›£è½ Enter éµï¼ŒæŒ‰ä¸‹æ™‚å‘¼å« sendMessage()
    document.addEventListener('DOMContentLoaded', () => {
      const inputElem = document.getElementById('userInput');
      inputElem.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
          event.preventDefault(); // é˜²æ­¢æ›è¡Œ
          sendMessage();
        }
      });
    });
  </script>

</body>
</html>


